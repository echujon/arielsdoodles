<style>
    /* Style the navbar */
    #navbar {
        /*overflow: hidden;*/
        background-color: #fff;
        z-index: 10;
        box-shadow: 0 3px 3px -3px rgba(0, 0, 0, .4);
        height: 6vh;
    }

    /* Navbar links */
    #navbar a {
        float: left;
        display: block;
        color: #000;
        text-align: center;
        padding: 14px;
        text-decoration: none;
    }

    /* Page content */
    .content {
        padding: 16px;
    }

    /* The sticky class is added to the navbar with JS when it reaches its scroll position */
    .sticky {
        position: fixed;
        top: 0;
        width: 100%;
    }

    /* Add some top padding to the page content to prevent sudden quick movement (as the navigation bar gets a new position at the top of the page (position:fixed and top:0) */
    .sticky+.content {
        padding-top: 60px;
    }

    /* Styles for the dropdown */
    .dropdown {
        float: left;
        overflow: hidden;
    }

    .dropdown .dropbtn {
        float: left;
        display: block;
        color: #000;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        margin: 0;
        cursor: pointer;
    }

    #dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1;
        top: 50px;
    }

    #dropdown-content a {
        float: none;
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        text-align: left;
    }

    .show {
        display: block;
    }

    #navbar a.active,
    .dropbtn.active {
        color: #000;
        font-weight: 800;
        text-decoration: underline;

    }
</style>

<nav class="doodles-font" id="navbar">
    <a href="#home" class="active">Home</a>
    <div class="dropdown">
        <div class="dropbtn" id="dropdown-chooser" onclick="toggleDropdown()">Portfolio <i class="fa fa-caret-down"></i>
        </div>
        <div class="dropdown-content" id="dropdown-content">
            <a href="#cats">Calendar Cats</a>
            <a href="#dndCats">DnD Cats</a>
            <a href="#pets">Pet Portraits</a>

        </div>
        <a href="#contact">Contact</a>
        <a href="https://www.etsy.com/shop/ArielsDoodles">Store</a>
</nav>

<script>
    const navSections = null;
    let hasNavClick = false;
    // When the user scrolls the page, execute myFunction

    window.onscroll = function () { stickyNav(); /*navOnScroll();*/ };

    // Get the navbar
    var navbar = document.getElementById("navbar");

    //Get dropdown 
    var dropdown = document.getElementById("dropdown-chooser");
    // Get the offset position of the navbar
    var sticky = navbar.offsetTop;
    // Add the sticky class to the navbar when you reach its scroll position. Remove "sticky" when you leave the scroll position

    function stickyNav() {
        if (window.pageYOffset >= sticky) {
            navbar.classList.add("sticky")
        } else {
            navbar.classList.remove("sticky");
        }
    }

    function selectNavItemByHash(hash) {
        if (hash) {
            let id = hash;
            let navItem = document.querySelector("#navbar a[href='" + id + "']");
            activateNavItem(navItem);
        }
    }

    window.addEventListener("load", (event) => {
        if (window.location.hash) {
            let hash = window.location.hash;
            selectNavItemByHash(hash);
        }
    });
    window.addEventListener("hashchange", function () {
        if (window.location.hash != null) {
            let hash = window.location.hash;
            selectNavItemByHash(hash);

        }
    });

    function isElementInViewport(el) {

        // Special bonus for those using jQuery
        if (typeof jQuery === "function" && el instanceof jQuery) {
            el = el[0];
        }

        var rect = el.getBoundingClientRect();

        return (
            rect.top >= 0 &&
            /*rect.left >= 0 &&*/
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)/* or $(window).height() */
            /*rect.right <= (window.innerWidth || document.documentElement.clientWidth) /* or $(window).width() */
        );
    }
    /*function navOnScroll() {
        //check what section we're on
        if (!hasNavClick) {
            var currentScroll = window.pageYOffset;
            var currentSection;
            toggleDropdown(true);
            navSections.forEach(section => {
                let sectionOffset = section.offsetTop;
                let sectionHalfSize = section.clientHeight / 2.5;
                if ((sectionOffset - sectionHalfSize) < currentScroll) {
                    currentSection = section;
                    return
                }

            })
            if (currentSection) {
                let id = currentSection.getAttribute("id");
                let navItem = document.querySelector("#navbar a[href='#" + id + "']");
                activateNavItem(navItem);
                title = currentSection.querySelector(".title");
                event.preventDefault();
                //history.pushState({}, '', currentSection.href);
            }
        }
        else {
            hasNavClick = false;
        }

        // activateNavItem(navItem);
    }*/

    function activateNavItem(navItem) {
        let currentlyActive = document.querySelector("#navbar a.active");
        let hasCurrentDropDown = false;
        let navItemHasDropDown = false;
        if (currentlyActive != null && currentlyActive.parentNode.id == 'dropdown-content')
            hasCurrentDropDown = true;
        if (navItem.parentNode.id == 'dropdown-content')
            navItemHasDropDown = true;
        if (currentlyActive != navItem) {
            if (typeof (currentlyActive) != 'undefined' && currentlyActive != null) {
                currentlyActive.classList.remove('active');
                if (hasCurrentDropDown && !navItemHasDropDown)
                    dropdown.classList.remove('active');

            }
            if (!hasCurrentDropDown && navItemHasDropDown)
                dropdown.classList.add('active');
            navItem.classList.add('active');
        }
    }

    //On click navigation
    var navItems = document.querySelectorAll('#navbar a');
    for (i = 0; i < navItems.length; i++) {
        navItems[i].addEventListener('click', function (e) {
            activateNavItem(this);
            toggleDropdown(true)
            hasNavClick = true;
        })
    }

    function toggleDropdown(forceDisplay = false) {
        let dropdownContent = document.getElementById("dropdown-content");
        if (forceDisplay || dropdownContent.style.display === "block") {
            dropdownContent.style.display = "none";
        }

        else {
            dropdownContent.style.display = "block";
        }
    }

</script>